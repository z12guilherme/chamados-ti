
<!-- public/index.html -->
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abrir Chamado de T.I.</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="container">
        <div class="form-header" style="text-align: center;">
            <img src="assets/logo.jpg" alt="Logo da Empresa" class="form-logo">
            <h1>ðŸ“ž Abrir Chamado de T.I.</h1>
            <p>Descreva seu problema para que possamos ajudar o mais rÃ¡pido possÃ­vel.</p>
        </div>
        
        <form id="formAberturaChamado">
            <div class="form-group">
                <label for="nome">Seu Nome Completo:</label>
                <div class="input-wrapper">
                    <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    <input type="text" id="nome" required placeholder="Ex: JoÃ£o da Silva">
                </div>
            </div>

            <div class="form-group">
                <label for="setor">Seu Setor:</label>
                <div class="input-wrapper">
                    <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="9" y1="9" x2="9" y2="9.01"></line>
                        <line x1="15" y1="9" x2="15" y2="9.01"></line>
                        <line x1="9" y1="15" x2="9" y2="15.01"></line>
                        <line x1="15" y1="15" x2="15" y2="15.01"></line>
                    </svg>
                    <input type="text" id="setor" required placeholder="Ex: Financeiro, Vendas, RH...">
                </div>
            </div>

            <div class="form-group">
                <label for="urgencia">NÃ­vel de UrgÃªncia:</label>
                <div class="urgency-options-container">
                    <label class="urgency-option urgencia-baixa">
                        <input type="radio" name="urgencia" value="baixa" checked>
                        <span>Baixa</span>
                    </label>
                    <label class="urgency-option urgencia-media">
                        <input type="radio" name="urgencia" value="media">
                        <span>MÃ©dia</span>
                    </label>
                    <label class="urgency-option urgencia-alta">
                        <input type="radio" name="urgencia" value="alta">
                        <span>Alta</span>
                    </label>
                </div>
            </div>

            <div class="form-group">
                <label for="problema">Descreva o problema:</label>
                <textarea id="problema" rows="5" required placeholder="Ex: Meu computador nÃ£o liga e faz um barulho estranho."></textarea>
            </div>

            <div class="form-group">
                <label>Anexo (Opcional)</label>
                <p class="form-hint">
                    Para arquivos pequenos (atÃ© 750KB), anexe diretamente. <br>
                    Para arquivos maiores, hospede no Google Drive e cole o link abaixo.
                </p>

                <label for="anexo" class="sub-label">Anexar arquivo diretamente:</label>
                <input type="file" id="anexo" class="input-file" accept="image/*,application/pdf">

                <div class="anexo-separator">ou</div>

                <label for="anexoUrl" class="sub-label">Colar link de anexo externo:</label>
                <input type="url" id="anexoUrl" placeholder="https://drive.google.com/..." class="input-file">
            </div>

            <button type="submit">Abrir Chamado</button>
        </form>

        <!-- Mensagem de sucesso (inicialmente oculta) -->
        <div id="successMessage" class="success-container" style="display: none;">
            <h2>âœ… Chamado Aberto com Sucesso!</h2>
            <p>Seu atendimento foi registrado. Anote o nÃºmero do seu protocolo para consultas futuras:</p>
            <div class="protocol-display" id="newProtocolNumber"></div>
            <p>VocÃª pode <a id="linkConsulta" href="consulta.html">consultar o andamento aqui</a>.</p>
            <button onclick="window.location.reload()" class="btn-secondary">Abrir Novo Chamado</button>
        </div>

        <div id="errorMessage" class="message" style="display: none;"></div>
    </div>

    <div class="footer">
        <p>&copy; 2025 Rede DMI | Sistema de Chamados T.I. | <a href="consulta.html">Consultar Chamado</a> | <a href="login.html" target="_blank">Acesso Admin</a></p>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>
